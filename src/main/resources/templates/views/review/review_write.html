<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{views/commons/layout :: layout(~{::head}, ~{::main})}">
<head>
    <meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <link rel="stylesheet" href="/css/review/review_write.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>
    <script src="/js/review/reviewfileupload.js" ></script>
</head>
<body>
    <main class="write-con">
        <section class="write-top">
            <h1 class="page-title">후기 글 작성</h1>
            <form id="create-review-form" action="/reviews" method="post" >
               <input type="hidden" th:if="${_csrf}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <div class="post-form">
                <div>닉네임:<span class="post_name" sec:authentication="principal.nickName"></span></div>
                <div class="input-section">
                        <div class="image-upload">
                            <label for="file-upload" class="upload-button">
                              	<span id="plus-icon">+</span> 
                                <input type="file" accept="image/*" id="file-upload">
                            </label>
                            
                            <img id="image-preview" class="image-preview" alt="미리보기 이미지" style="display: none;">
                        </div>
                    </div>
                
                    <div class="input-section">
                        <input type="text" class="title-input" name="title" placeholder="제목을 입력하세요">
                    </div>
                    <div class="input-section">
                        <div id="quill-editor" style="height: 200px;"></div>
                        <input type="hidden" id="quill-content-input" name="content">
                    </div>
                    
                </div>
                <div class="write_btns">
                    <a href="/mem/review" class="returnA">이전으로 </a>
                    
                    <input type="hidden" id="mainImageBucketKey" name="mainImageBucketKey"> <!-- 이미지 URL을 여기에 설정 -->
             		<input type="hidden" name="mainImageOrgName" id="mainImageOrgName">
                    
                    <button type="submit" class="submit-button">작성완료</button>
                </div>
                
            </form>
        </section>
    </main>
</body>
</html>
